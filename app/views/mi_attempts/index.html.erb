<% @netzke_required = true; @tab = 'Search & Edit' %>

<div id="mi-attempts-form" class="container_12">

  <%= form_tag mi_attempts_path, :method => :get do %>
    <div class="grid_4">
      <p class="large-text">
        Enter some search terms, separated by new-lines.
        You can use <em>clone names</em>, <em>gene symbols</em>,
        and <em>colony names</em>.
      </p>
    </div>

    <div id="search-box" class="grid_4">
      <textarea cols="10" rows="10" name="search_terms" id="search-terms" class="initial-focus"><%= @search_params[:search_terms].join "\n" %></textarea>

      <div id="buttons">
        <input id="submit" type="submit" value="Search" />
        <button type="button" id="clear-search-terms-button">Clear</button>
      </div>
    </div>

    <div class="grid_4 large-text">
      <p>
        <label for="production_centre_id">Filter by Production Centre</label><br/>
        <%= select_tag 'production_centre_id', options_from_collection_for_select([Centre.new]+Centre.all, :id, :name, @search_params[:production_centre_id]) %>
      </p>

      <p>
        <label for="mi_attempt_status_id">Filter by Status</label><br/>
        <%= select_tag 'mi_attempt_status_id', options_from_collection_for_select([MiAttemptStatus.new]+MiAttemptStatus.all, :id, :description, @search_params[:mi_attempt_status_id]) %>
      </p>
    </div>

  <% end %>

  <div class="clear"></div>

</div>

<div id="mi-attempts-grid">
  <%= mi_attempts_table(@search_params) %>
</div>
