<% @tab = 'Reports' %>

<% content_for :head do %>
<style type="text/css">
  .report-group-message {
    font-size: 65%;
    font-style: italic;
    font-weight: bold;
    font-family: Verdana, sans-serif;
    display: block;
    margin-top: 0.5em;
    color: #999;
  }
</style>
<% end %>

<% @generated_message = '<span class="report-group-message">Generated every hour (or so)</span>'.html_safe %>

<div class="grid_4 suffix_8">
  <h2><%= @tab %></h2>
</div>

<div class="grid_4">
  <h3>Plans (Production, Phenotyping)</h3>
  <div class="report-links">
    <a href="<%= url_for(:controller => :reports, :action => :planned_microinjection_summary_and_conflicts) %>">
      <h4>Plans and Conflicts for All Consortia</h4>
      <p>Summary counts of all Plans by Status and Priority, showing Conflicts</p>
    </a>
  </div>
  <div class="report-links">
    <a href="<%= url_for(:controller => :reports, :action => :planned_microinjection_list) %>">
      <h4>All Planned Micro-Injections for a Specific Consortium</h4>
    </a>
  </div>
  <div class="report-links">
    <a href="<%= url_for(:controller => :reports, :action => :genes_list, :format => :csv) %>">
      <h4>All Genes</h4>
      <p>
        Lists all mouse genes that iMits is aware of and also shows the availability of IKMC
        alleles and any micro-injections that have been planned/performed for each gene.
        <br/><strong>CSV download only</strong>
      </p>
    </a>
  </div>
  <div class="report-links">
    <a href="<%= url_for(:controller => :reports, :action => :notifications_by_gene) %>">
      <h4>Gene interest by notification</h4>
      <p>
        Lists all genes that current have subscribed updates and displays how many notifications there are for each gene.
      </p>
    </a>
  </div>
</div>

<div class="grid_4">
  <h3>Detailed Status Date Report <%= @generated_message %></h3>
    <div class="report-links">
      <a href="<%= url_for(:controller => 'reports/mi_production', :action => :detail) %>">
        <h4>Gene-by-gene Status Change Dates for All IMPC Consortia</h4>
      </a>
    </div>

  <h3>KOMP2 Production Reports <%= @generated_message %></h3>
    <div class="report-links">
      <a href="<%= url_for(:controller => 'reports/mi_production', :action => :summary_komp23) %>">
        <h4>Production for KOMP2 Consortia</h4>
      </a>
    </div>

    <div class="report-links">
      <a href="<%= url_for(:controller => 'reports/mi_production', :action => :impc_graph_report_display) %>">
      <h4>Monthly Production for KOMP2 Consortia (summary and graphs)</h4>
      </a>
    </div>

    <div class="report-links">
      <a href="<%= url_for(:controller => 'reports/mi_production', :action => :summary_month_by_month_activity_komp2_compressed) %>">
      <h4>Monthly Production for KOMP2 Consortia (tables only)</h4>
      </a>
    </div>

    <!--
    <div class="report-links">
      <a href="<%= url_for(:controller => 'reports/mi_production', :action => :summary_month_by_month_activity_all_centres_komp2) %>">
      <h7>KOMP2 Month-by-month activity (Legacy- all monthly attempts)</h7>
      </a>
    </div>

    <div class="report-links">
      <a href="<%= url_for(:controller => 'reports/mi_production', :action => :summary_month_by_month_activity_komp2) %>">
      <h7>KOMP2 Month-by-month activity</h7>
      </a>
    </div>
    -->

  <h3>IMPC Production Reports <%= @generated_message %></h3>
    <div class="report-links">
      <a href="<%= url_for(:controller => 'reports/mi_production', :action => :summary_by_consortium_and_accumulated_status) %>">
        <h4>All Consortia - Key Statuses</h4>
        <p>All IMPC Consortia for Key Statuses</p>
      </a>
    </div>
    <div class="report-links">
      <a href="<%= url_for(:controller => 'reports/mi_production', :action => :summary_impc3) %>">
        <h4>Production for IMPC Consortia</h4>
      </a>
    </div>

    <div class="report-links">
      <a href="<%= url_for(:controller => 'reports/mi_production', :action => :summary_month_by_month_activity_impc_intermediate) %>">
      <h4>Monthly Production for IMPC Consortia (tables only)</h4>
      </a>
    </div>

    <!--
    <div class="report-links">
      <a href="<%= url_for(:controller => 'reports/mi_production', :action => :summary_month_by_month_activity_impc) %>">
      <h7>IMPC Month-by-month activity (Legacy- all monthly attempts)</h7>
      </a>
    </div>
    -->

</div>

<div class="grid_4">
  <h3>Distribution centre management</h3>
  <div class="report-links">
    <a href="<%= mi_attempts_distribution_centres_path %>">
      <h4>Mi Attempt Distribution centre report</h4>
      <p>Matrix showing MiAttempts by distribution centre. Easily find MiAttempts missing distribution centres.</p>
    </a>
  </div>
    <div class="report-links">
    <a href="<%= phenotype_attempts_distribution_centres_path %>">
      <h4>Phenotype Attempt Distribution centre report</h4>
      <p>Matrix showing Phenotype attempts by distribution centre. Easily find Phenotype attempts missing distribution centres.</p>
    </a>
  </div>

  <h3>Double production <%= @generated_message %></h3>
  <div class="report-links">
    <a href="<%= url_for(:controller => :reports, :action => :double_assigned_plans) %>">
      <h4>Double Production between consortia</h4>
      <p>Matrix showing mouse production for the same gene happening at two of more different consortia</p>
    </a>
  </div>
  
  <h3>Languishing Projects <%= @generated_message %></h3>
    <div class="report-links">
      <a href="<%= url_for(:controller => 'reports/mi_production', :action => :languishing, :consortia => 'BaSH,DTCC,JAX') %>">
        <h4>KOMP2 Languishing Projects</h4>
      </a>
    </div>
    <div class="report-links">
      <a href="<%= url_for(:controller => 'reports/mi_production', :action => :languishing) %>">
        <h4>All IMPC Languishing Projects</h4>
      </a>
    </div>
  
  <h3>Production Summaries (Legacy)</h3>
  <!--
  <div class="report-links">
    <a href="<%= url_for(:controller => :reports, :action => :mi_attempts_by_gene) %>">
      <h4>Gene Summary</h4>
      <p>
        Summary report showing counts of <strong>unique genes</strong> that have been micro-injected vs lines
        that have been genotype confirmed per production centre.
      </p>
    </a>
  </div>
  <div class="report-links">
    <a href="<%= url_for(:controller => :reports, :action => :mi_attempts_monthly_production) %>">
      <h4>Month-by-Month Summary</h4>
      <p>Summary report showing production statistics for each production centre on a month-by-month basis.</p>
    </a>
  </div>-->
  <div class="report-links">
    <a href="<%= url_for(:controller => :reports, :action => :mi_attempts_list) %>">
      <h4>All Micro-Injection Attempts</h4>
      <p>Lists details on all micro-injections attempts.</p>
    </a>
  </div>
</div>

<% if current_user.admin %>

  <div class='grid_10'>
    <h2>Experimental Reports</h2>
    <h5>Currently only available to admins</h5>
  </div>

  <div class="grid_4">
    <h3>Plans (Production, Phenotyping)</h3>
    <div class="report-links">
      <a href="<%= url_for(:controller => "v2/reports", :action => :planned_microinjection_summary_and_conflicts) %>">
        <h4>Plans and Conflicts for All Consortia</h4>
        <p>Summary counts of all Plans by Status and Priority, showing Conflicts</p>
      </a>
    </div>
  </div>

  <div class="grid_4">
    <h3>KOMP2 Production Reports</h3>
      <div class="report-links">
        <a href="<%= url_for(:controller => 'v2/reports/mi_production', :action => :komp2_production_summary) %>">
          <h4>Production for KOMP2 Consortia</h4>
        </a>
      </div>

      <div class="report-links">
        <a href="<%= url_for(:controller => 'v2/reports/mi_production', :action => :komp2_summary_by_month) %>">
        <h4>Monthly Production for KOMP2 Consortia (tables only)</h4>
        </a>
      </div>

    <h3>IMPC Production Reports</h3>

      <div class="report-links">
        <a href="<%= url_for(:controller => 'v2/reports/mi_production', :action => :impc_production_summary) %>">
          <h4>Production for IMPC Consortia</h4>
        </a>
      </div>

      <div class="report-links">
        <a href="<%= url_for(:controller => 'v2/reports/mi_production', :action => :impc_summary_by_month) %>">
        <h4>Monthly Production for IMPC Consortia (tables only)</h4>
        </a>
      </div>

      <div class="report-links">
        <a href="<%= url_for(:controller => 'v2/reports/mi_production', :action => :impc_centre_by_month) %>">
        <h4>Monthly Production for IMPC Production centres</h4>
        </a>
      </div>

    <h3>MGP Production</h3>

      <div class="report-links">
        <a href="<%= url_for(:controller => 'v2/reports/mi_production', :action => :mgp_production_by_priority) %>">
        <h4>MGP Production by Priority</h4>
        </a>
      </div>


      <div class="report-links">
        <a href="<%= url_for(:controller => 'v2/reports/mi_production', :action => :mgp_production_by_subproject) %>">
        <h4>MGP Production by Sub-project</h4>
        </a>
      </div>
  </div>

  <div class="grid_4">
      <div class="report-links">
        <a href="<%= url_for(:controller => 'v2/reports', :action => :qc_grid_summary) %>">
        <h4>Genotyping QC Grid</h4>
        </a>
      </div>
  </div>

<% end %>